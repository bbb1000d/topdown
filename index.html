<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Wanderlight - Cozy Action Roguelike</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <main class="game-root">
      <canvas
        id="game"
        width="1280"
        height="720"
        aria-label="Top-down adventure canvas"
      ></canvas>

      <canvas
        id="minimap"
        class="minimap"
        width="256"
        height="256"
        aria-label="World minimap"
      ></canvas>

      <section class="hud hud--hotbar" aria-live="polite">
        <div class="status-cluster" role="presentation">
          <div class="status-meter" data-type="health">
            <span class="status-label">Health</span>
            <span id="health-value" class="status-value">120 / 120</span>
            <div class="status-track" role="progressbar" aria-label="Player health" aria-valuemin="0" aria-valuemax="100" aria-valuenow="100">
              <div class="status-fill status-fill--health" data-health-fill></div>
            </div>
          </div>
          <div class="status-meter" data-type="xp">
            <span class="status-label">Experience</span>
            <span id="xp-value" class="status-value">Level 1</span>
            <div class="status-track" role="progressbar" aria-label="Experience toward next level" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
              <div class="status-fill status-fill--xp" data-progress-fill></div>
            </div>
          </div>
        </div>
        <div class="hud-hotbar" role="list" aria-label="Quick item bar">
          <div class="hotbar-slot" data-slot="0"><span class="slot-key">1</span></div>
          <div class="hotbar-slot" data-slot="1"><span class="slot-key">2</span></div>
          <div class="hotbar-slot" data-slot="2"><span class="slot-key">3</span></div>
          <div class="hotbar-slot" data-slot="3"><span class="slot-key">4</span></div>
          <div class="hotbar-slot" data-slot="4"><span class="slot-key">5</span></div>
          <div class="hotbar-slot" data-slot="5"><span class="slot-key">6</span></div>
          <div class="hotbar-slot" data-slot="6"><span class="slot-key">7</span></div>
          <div class="hotbar-slot" data-slot="7"><span class="slot-key">8</span></div>
        </div>
        <dl class="hud-badges">
          <div>
            <dt>Skill Sparks</dt>
            <dd id="skill-points">0</dd>
          </div>
          <div>
            <dt>Gold</dt>
            <dd id="currency">0</dd>
          </div>
          <div>
            <dt>Current Goal</dt>
            <dd id="current-goal">Kindle the valley</dd>
          </div>
          <div>
            <dt>Region</dt>
            <dd id="zone-label">Radiant Hearth</dd>
          </div>
          <div>
            <dt>Time</dt>
            <dd id="time-of-day">Dawnlight</dd>
          </div>
          <div>
            <dt>Town Project</dt>
            <dd>
              <span id="town-progress-label">Home Foundation</span>
              <span class="town-progress">
                <span class="town-progress-fill" data-town-fill></span>
              </span>
            </dd>
          </div>
        </dl>
      </section>

      <div class="ui-hints" role="presentation">
        <p>Press <kbd>I</kbd> for inventory, <kbd>K</kbd> for skill tree, <kbd>J</kbd> for quests, <kbd>M</kbd> for full map.</p>
      </div>

      <div id="toast" role="status" aria-live="assertive" class="toast hidden"></div>
      <div id="prompt" class="prompt" aria-live="polite"></div>

      <div id="inventory-overlay" class="overlay overlay--panel" aria-hidden="true">
        <div class="overlay-card" role="dialog" aria-modal="true" aria-label="Inventory">
          <header class="overlay-header">
            <h2>Satchel &amp; Gear</h2>
            <button type="button" class="overlay-close" data-close-overlay>×</button>
          </header>
          <div class="inventory-grid">
            <section>
              <h3>Items</h3>
              <ul id="inventory" class="list list--inventory" aria-live="polite"></ul>
            </section>
            <section>
              <h3>Equipment</h3>
              <ul id="equipment" class="list list--equipment" aria-live="polite"></ul>
            </section>
            <section>
              <h3>Abilities</h3>
              <ul id="abilities" class="list list--abilities" aria-live="polite"></ul>
            </section>
          </div>
        </div>
      </div>

      <div id="quests-overlay" class="overlay overlay--panel" aria-hidden="true">
        <div class="overlay-card" role="dialog" aria-modal="true" aria-label="Quests and lore">
          <header class="overlay-header">
            <h2>Quest Journal</h2>
            <button type="button" class="overlay-close" data-close-overlay>×</button>
          </header>
          <div class="journal-grid">
            <section>
              <h3>Active Quests</h3>
              <ul id="quests" class="list list--quests" aria-live="polite"></ul>
            </section>
            <section>
              <h3>World Notes</h3>
              <ul id="map-info" class="list"></ul>
            </section>
            <section>
              <h3>Story</h3>
              <p id="storyline" class="storyline" aria-live="polite">
                Arrive in the valley and kindle hope in the towns.
              </p>
              <ul id="npc-journal" class="list list--journal" aria-live="polite"></ul>
            </section>
            <section>
              <h3>Moments</h3>
              <ul id="log" class="list list--log" aria-live="polite"></ul>
            </section>
            <section>
              <h3>Achievements</h3>
              <ul id="achievements" class="list" aria-live="polite"></ul>
            </section>
          </div>
        </div>
      </div>

      <div id="skilltree-overlay" class="overlay overlay--panel" aria-hidden="true">
        <div class="overlay-card" role="dialog" aria-modal="true" aria-label="Skill tree">
          <header class="overlay-header">
            <h2>Luminous Skill Tree</h2>
            <p id="skilltree-summary">Spend sparks to unlock new techniques.</p>
            <button type="button" class="overlay-close" data-close-overlay>×</button>
          </header>
          <div id="skill-tree" class="skill-tree" role="presentation"></div>
          <section>
            <h3>Unlocked Techniques</h3>
            <ul id="skills" class="list list--abilities" aria-live="polite"></ul>
          </section>
          <footer class="overlay-footer">
            <p>Skill Sparks available: <span id="skill-sparks-available">0</span></p>
          </footer>
        </div>
      </div>

      <div id="start-menu" class="overlay overlay--start" aria-hidden="false">
        <div class="overlay-card" role="dialog" aria-modal="true" aria-label="Start menu">
          <h2>Welcome back, wanderer</h2>
          <p>
            Radiant Hearth now anchors a sprawling valley filled with four bustling towns,
            hidden dungeons, and treasure-filled chests. Gather your courage and set out.
          </p>
          <div class="overlay-actions">
            <button id="play-button" class="button">Play</button>
          </div>
          <div class="overlay-footer">
            <p>Highlights</p>
            <ul>
              <li>Open chests with <strong>F</strong> to claim powerful gear.</li>
              <li>Defeat foes for gold and restorative elixirs.</li>
              <li>Visit your home plot in Radiant Hearth to continue building.</li>
            </ul>
          </div>
        </div>
      </div>

      <div id="pause-menu" class="overlay overlay--menu" aria-hidden="true">
        <div class="overlay-card" role="dialog" aria-modal="true" aria-label="Game menu">
          <h2>Paused</h2>
          <p>Take a breather, wanderer.</p>
          <div class="overlay-actions">
            <button id="resume-button" class="button">Resume</button>
            <button id="restart-button" class="button button--ghost">Start Over</button>
          </div>
          <div class="overlay-footer">
            <p>Controls</p>
            <ul>
              <li>Move: WASD</li>
              <li>Aim: Arrow Keys</li>
              <li>Shoot: Space</li>
              <li>Dash: E</li>
              <li>Interact &amp; Open Chests: F</li>
              <li>Menu: Escape</li>
            </ul>
          </div>
        </div>
      </div>

      <div id="shop-overlay" class="overlay overlay--choices" aria-hidden="true">
        <div class="overlay-card" role="dialog" aria-modal="true" aria-label="Town shop">
          <h2 id="shop-name">Aurora Market</h2>
          <p id="shop-description">Trade glow shards for helpful gear.</p>
          <div id="shop-options" class="upgrade-grid"></div>
          <button id="leave-shop" class="button button--ghost">Leave Shop</button>
        </div>
      </div>

      <div id="map-overlay" class="overlay overlay--panel" aria-hidden="true">
        <div class="overlay-card" role="dialog" aria-modal="true" aria-label="World atlas">
          <header class="overlay-header">
            <h2>Atlas of the Valley</h2>
            <button type="button" class="overlay-close" data-close-overlay>×</button>
          </header>
          <canvas id="atlas" width="640" height="640" aria-label="World atlas canvas"></canvas>
        </div>
      </div>
    </main>
    <script type="module" src="src/main.js"></script>
  </body>
</html>
